%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#f5f5f5', 'primaryTextColor': '#333', 'primaryBorderColor': '#999', 'lineColor': '#1E3A5F', 'secondaryColor': '#e8e8e8', 'tertiaryColor': '#fff'}}}%%
flowchart TD
    %% PRISMA 2020 Flow Diagram for Literature Selection
    %% Aligned with lit_review academic-literature-review workflow
    %% Total: 570 identified → 41 included (529 excluded)

    subgraph ID["IDENTIFICATION"]
        A1[("Crossref<br/>(n = 285)")] --> A
        A2[("PubMed<br/>(n = 142)")] --> A
        A3[("ArXiv<br/>(n = 71)")] --> A
        A4[("Semantic Scholar<br/>(n = 72)")] --> A
        A["Records identified<br/>after deduplication<br/>(n = 570)"]
    end

    subgraph SC["SCREENING"]
        A --> D{"Title/Abstract<br/>Screening<br/>(n = 570)"}
        D -->|"Excluded"| E["Records excluded<br/>(n = 480)<br/>• Not relevant to framework<br/>• Outside scope<br/>• Non-English"]
        D -->|"Sought for retrieval"| F["Reports sought<br/>for retrieval<br/>(n = 90)"]
        F --> H{"Full-text<br/>Eligibility<br/>Assessment<br/>(n = 90)"}
        H -->|"Excluded"| I["Reports excluded<br/>(n = 46)<br/>• No verifiable DOI/URL (n = 18)<br/>• Vendor marketing only (n = 15)<br/>• Methodological concerns (n = 13)"]
    end

    subgraph QA["QUALITY ASSESSMENT"]
        H -->|"Assessed for quality"| J{"Source<br/>Classification<br/>(n = 44)"}
        J -->|"Academic sources"| K["Peer-reviewed<br/>publications<br/>(n = 30)"]
        J -->|"Grey literature"| L{"AACODS<br/>Checklist<br/>(n = 14)"}
        L -->|"Passed"| M["Industry reports<br/>meeting quality<br/>threshold<br/>(n = 11)"]
        L -->|"Failed"| N["Excluded<br/>(n = 3)<br/>• Low objectivity<br/>• Insufficient detail"]
    end

    subgraph IN["INCLUDED"]
        K --> O[("Final Corpus<br/>(n = 41)<br/>Academic: 30<br/>Industry: 11")]
        M --> O
    end

    %% Styling - neutral palette matching architecture.jpg
    style ID fill:#f5f5f5,stroke:#1E3A5F
    style SC fill:#f5f5f5,stroke:#1E3A5F
    style QA fill:#f5f5f5,stroke:#1E3A5F
    style IN fill:#e8e8e8,stroke:#1E3A5F
    style E fill:#f5f5f5,stroke:#999
    style I fill:#f5f5f5,stroke:#999
    style N fill:#f5f5f5,stroke:#999
