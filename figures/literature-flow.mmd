%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#f5f5f5', 'primaryTextColor': '#333', 'primaryBorderColor': '#999', 'lineColor': '#1E3A5F', 'secondaryColor': '#e8e8e8', 'tertiaryColor': '#fff'}}}%%
flowchart TD
    %% PRISMA 2020 Flow Diagram for Literature Selection
    %% Aligned with lit_review academic-literature-review workflow
    %% Total: 570 identified → 41 included (529 excluded)
    %% Icons: fa:fa-database, fa:fa-file-alt, fa:fa-filter, fa:fa-clipboard-check, fa:fa-sitemap

    subgraph ID["IDENTIFICATION"]
        A1[("fa:fa-database Crossref<br/>(n = 285)")] --> A
        A2[("fa:fa-database PubMed<br/>(n = 142)")] --> A
        A3[("fa:fa-database ArXiv<br/>(n = 71)")] --> A
        A4[("fa:fa-database Semantic Scholar<br/>(n = 72)")] --> A
        A["fa:fa-file-alt Articles identified<br/>after deduplication<br/>(n = 570)"]
    end

    subgraph SC["SCREENING"]
        A --> D{"fa:fa-filter Title/abstract<br/>screening<br/>(n = 570)"}
        D -->|"Excluded"| E["fa:fa-file-alt Articles excluded<br/>(n = 480)<br/>• Not relevant to framework<br/>• Outside scope<br/>• Non-English"]
        D -->|"Passed"| H{"fa:fa-clipboard-check Full-text<br/>eligibility<br/>screening<br/>(n = 90)"}
        H -->|"Excluded"| I["fa:fa-file-alt Articles excluded<br/>(n = 46)<br/>• No verifiable DOI/URL (n = 18)<br/>• Vendor marketing only (n = 15)<br/>• Methodological concerns (n = 13)"]
    end

    subgraph QA["QUALITY ASSESSMENT"]
        H -->|"Passed"| J{"fa:fa-sitemap Source<br/>classification<br/>(n = 44)"}
        J -->|"Grey literature"| L{"fa:fa-clipboard-check AACODS<br/>checklist<br/>(n = 14)"}
        L -->|"Excluded"| N["fa:fa-file-alt Articles excluded<br/>(n = 3)<br/>• Low objectivity<br/>• Insufficient detail"]
    end

    subgraph IN["INCLUDED"]
        J -->|"Academic"| O["fa:fa-file-alt Final corpus<br/>(n = 41)<br/>Academic: 30<br/>Industry: 11"]
        L -->|"Passed"| O
    end

    %% Styling - neutral palette matching architecture.jpg
    style ID fill:#f5f5f5,stroke:#1E3A5F
    style SC fill:#f5f5f5,stroke:#1E3A5F
    style QA fill:#f5f5f5,stroke:#1E3A5F
    style IN fill:#e8e8e8,stroke:#1E3A5F
    style E fill:#f5f5f5,stroke:#999
    style I fill:#f5f5f5,stroke:#999
    style N fill:#f5f5f5,stroke:#999
